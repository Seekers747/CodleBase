@page "/"
@using CodleWeb.Components.Elements
@using CodleWeb.Services
@rendermode InteractiveServer
@inject IGameSessionService GameSessionService

<PageTitle>Home</PageTitle>

<div class="Codle" @ref="CodleResetFix" @onkeydown="OnPhysicalKeyboardClick" tabindex="0">
    <TextBlock 
      Message="@codle.Message"
      GameOver="@codle.GameOver"
      CodleWordExplain="@codle.CodleWordExplain" />
    <GameGrid Grid="@grid" GridStyles="@gridStyles" />
    <button 
        class="RestartGameButton" 
        @onclick="RestartGame"
        disabled="@IsRestartBlocked">
        Restart game
    </button>
    <VisibleKeyboard 
      TopRow="@TopRowVisibleKeyboard"
      MiddleRow="@MiddleRowVisibleKeyboard"
      BottomRow="@BottomRowVisibleKeyboard"
      OnKeyClick="OnVisibleKeyboardClick"
      LetterColorChange="LetterColorChange" />
</div>